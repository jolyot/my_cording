キャサリンは、フルーツ販売している会社のシステム部でログデータを使った分析をやっています。
ログデータには、フルーツが売れると、その名前が出力されるようになっています。

販売しているフルーツは、りんご、いちご、メロンの3種類のみです。

ある日、キャサリンはログデータの一部を使って、家で分析の仕事していたところ、
なんと息子のジョージがいたずらをして、ログファイルがぐちゃぐちゃになってしまいました。

ウィリアム上司から、明日までにデータを集計してくれといわれているので、
ログデータを再取得しなおす暇はありません。

データは、目も当てられないほどぐちゃぐちゃになってしまったので、さぁ大変です。

そこでキャサリンは、ひとまず区切り文字が一致している中で最もフルーツが多くあるデータだけ抜き出すことにしました。
区切り文字は{}()[]の3種類のみです。

例えば、
{apple strawberry (melon [ apple )}

というデータでは、{}と()の区切り文字はペアで存在しますが、[ は、]がありませんので、
取得できるデータは、"{apple strawberry melon apple}"と、"(melon apple)"の2つになります。
{}の方がフルーツの数が4個、()のフルーツの数が2個なので、
このログデータから取得できるフルーツの最大数は、4となります。

幾つかサンプルのデータとフルーツの数の例を示します。

【ログデータ】
{melon (()melon strawberry)][apple}
[apple apple }{melon](strawberry}(melon]]
({}apple) melon strawberry{melon(apple apple) melon strawberry}

【フルーツの数】
4
3
5

サンプルのように、一致する区切り文字の中で、最も多くのフルーツを持っているものを探し出し、いくつフルーツが入っているかを数えてください。

fruits.log
ジョージによってぐちゃぐちゃにされたフルーツの売上ログファイルです。
1行ごとに一つの購入履歴のログデータが出力されています。


参照URL:https://codeiq.jp/ace/joboffer_apli/q999

